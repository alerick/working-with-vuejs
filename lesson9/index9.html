<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>

        <title>Vue js</title>

        <!--Import Google Icon Font-->
        <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <!--Import materialize.css-->
        <!-- <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/> -->

        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <!--Import jQuery before materialize.js-->
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <!-- <script type="text/javascript" src="js/materialize.min.js"></script> -->
    </head>

    <body>

        <h1 v-if="name">Lesson 9</h1>

        <div class="row">
            <div class="input-field col s12">
                <table class="striped">
                    <thead>
                        <tr>
                            <th>Nota</th>
                            <th>Categoria</th>
                            <th width="80px">&nbsp;</th>
                        </tr>
                    </thead>
                    <tr v-for="note in notes">
                        <template v-if="!note.editing">
                            <td>{{ note.category_id | category }}</td>
                            <td>{{ note.name }}</td>
                            <td>
                                <a href="#" @click="editNote(note)"><i class="material-icons">mode_edit</i></a>
                                <a href="#" @click="deleteNote(note)"><i class="material-icons">delete</i></a>
                            </td>
                        </template>
                        <template v-else>
                            <td>
                                <selectcategory :categories="categories" :id.sync="note.category_id"></selectcategory>
                            </td>
                            <td> <div class="input-field col s12">
                                    <input id="last_name" type="text" class="validate"v-model="note.name">
                                </div>
                            </td>
                            <a href="#" @click="updateNote(note)"><i class="material-icons">done</i></a>
                        </template>
                    </tr>

                </table>
            </div>
        </div>

        <pre>{{ $data | json }}</pre>

        <template id="select_category_tpl">
            <select v-model="id">
                <option value="">Seleccione</option>
                <option v-for="category in categories" :value="category.id ">{{ category.name  }}</option>
            </select>
        </template>

        <script type="text/javascript" src="js/vue.js"></script>
        <script src="main.js"></script>

    </body>
</html>
